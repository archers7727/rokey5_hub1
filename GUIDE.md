# 두산 로봇팔 재료 손질 시스템 - 프론트엔드 기획서

## 1. 프로젝트 개요

### 1.1 목적
사용자가 웹 인터페이스를 통해 재료와 손질 모드를 선택하고, 두산 로봇팔의 작업을 모니터링할 수 있는 시스템 구축

### 1.2 주요 목표
- 직관적인 재료 선택 인터페이스
- 명확한 손질 모드 선택 UI
- 실시간 작업 진행률 표시
- 로봇 상태 모니터링 대시보드

---

## 2. 주요 기능 명세

### 2.1 재료 선택 기능
- **재료 카테고리**: 육류, 채소, 과일 등
- **세부 재료 선택**: 
  - 육류: 소고기, 돼지고기, 닭고기
  - 채소: 양파, 당근, 파프리카, 감자
  - 과일: 사과, 배, 수박
- **재료 이미지 및 설명 표시**
- **다중 선택 가능 여부** (단일/복수 선택)

### 2.2 손질 모드 선택
- **썰기 모드**:
  - 얇게 썰기 (2-3mm)
  - 보통 썰기 (5-7mm)
  - 두껍게 썰기 (10-15mm)
  - 깍둑썰기 (큐브)
  
- **다지기 모드**:
  - 굵게 다지기
  - 곱게 다지기
  
- **박피 모드**:
  - 껍질 제거만
  - 껍질 제거 + 슬라이스

### 2.3 작업 실행 및 모니터링
- **실행 전 확인 화면**:
  - 선택한 재료 요약
  - 선택한 모드 요약
  - 예상 작업 시간
  
- **실시간 모니터링**:
  - 전체 진행률 (%)
  - 현재 작업 단계 표시
  - 로봇 관절 각도 시각화 (옵션)
  - 로봇 상태 (대기/작업중/완료/에러)
  
- **작업 완료 화면**:
  - 완료 메시지
  - 작업 시간 통계
  - 다음 작업 시작 버튼

---

## 3. 화면 구성 (Screen Flow)

```
[메인 화면]
    ↓
[재료 선택 화면]
    ↓
[손질 모드 선택 화면]
    ↓
[작업 확인 화면]
    ↓
[실행 중 모니터링 화면]
    ↓
[작업 완료 화면]
```

---

## 4. 상세 화면 설계

### 4.1 메인 화면
```
┌─────────────────────────────────────┐
│  [로고]  두산 로봇 재료 손질 시스템   │
├─────────────────────────────────────┤
│                                     │
│      [큰 시작 버튼]                  │
│      "재료 손질 시작하기"             │
│                                     │
│                                     │
│  최근 작업 이력 (3개)                │
│  ┌─────────────────┐               │
│  │ 양파 - 얇게썰기  │               │
│  │ 2시간 전        │               │
│  └─────────────────┘               │
│                                     │
└─────────────────────────────────────┘
```

### 4.2 재료 선택 화면
```
┌─────────────────────────────────────┐
│  ← [뒤로]     재료 선택               │
├─────────────────────────────────────┤
│                                     │
│  [탭] 육류 | 채소 | 과일             │
│                                     │
│  ┌────┐  ┌────┐  ┌────┐           │
│  │[🥩]│  │[🥕]│  │[🧅]│           │
│  │소고기│  │당근 │  │양파 │          │
│  └────┘  └────┘  └────┘           │
│                                     │
│  ┌────┐  ┌────┐  ┌────┐           │
│  │[🐷]│  │[🥔]│  │[🫑]│           │
│  │돼지고기│ │감자 │  │파프리카│        │
│  └────┘  └────┘  └────┘           │
│                                     │
│          [다음 단계] →              │
└─────────────────────────────────────┘
```

### 4.3 손질 모드 선택 화면
```
┌─────────────────────────────────────┐
│  ← [뒤로]     손질 모드 선택          │
├─────────────────────────────────────┤
│  선택한 재료: 양파                   │
│                                     │
│  ┌──────────────────┐              │
│  │  썰기 모드       │  ○           │
│  │  ├ 얇게 (2-3mm) │              │
│  │  ├ 보통 (5-7mm) │              │
│  │  └ 두껍게(10-15mm)│             │
│  └──────────────────┘              │
│                                     │
│  ┌──────────────────┐              │
│  │  다지기 모드     │  ○           │
│  │  ├ 굵게 다지기   │              │
│  │  └ 곱게 다지기   │              │
│  └──────────────────┘              │
│                                     │
│          [작업 확인] →              │
└─────────────────────────────────────┘
```

### 4.4 작업 확인 화면
```
┌─────────────────────────────────────┐
│  ← [뒤로]     작업 확인               │
├─────────────────────────────────────┤
│                                     │
│  [작업 요약]                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━          │
│  재료: 양파                          │
│  모드: 얇게 썰기 (2-3mm)             │
│  예상 시간: 약 3분                   │
│                                     │
│  [안전 확인사항]                     │
│  ✓ 재료가 올바르게 배치되었나요?      │
│  ✓ 로봇 작업 영역에 사람이 없나요?    │
│  ✓ 비상정지 버튼 위치를 확인했나요?   │
│                                     │
│     [🔴 작업 실행]                  │
│                                     │
└─────────────────────────────────────┘
```

### 4.5 실행 중 모니터링 화면
```
┌─────────────────────────────────────┐
│  작업 진행 중...          [⏸ 일시정지]│
├─────────────────────────────────────┤
│                                     │
│  [진행률]                            │
│  ████████████░░░░░░░░  65%         │
│                                     │
│  현재 단계: 재료 절단 중 (2/3)       │
│  경과 시간: 1분 30초 / 3분          │
│                                     │
│  ┌─────────────────────┐           │
│  │  [로봇 상태 애니메이션] │          │
│  │   또는 실시간 카메라   │          │
│  └─────────────────────┘           │
│                                     │
│  로봇 상태: 작업 중                  │
│  • Joint 1: 45.2°                  │
│  • Joint 2: -12.5°                 │
│  • Force: 15.2N                    │
│                                     │
│     [🛑 비상 정지]                  │
└─────────────────────────────────────┘
```

### 4.6 작업 완료 화면
```
┌─────────────────────────────────────┐
│        ✅ 작업 완료!                 │
├─────────────────────────────────────┤
│                                     │
│  [결과 요약]                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━          │
│  재료: 양파                          │
│  모드: 얇게 썰기                     │
│  작업 시간: 2분 45초                 │
│  상태: 정상 완료                     │
│                                     │
│  ┌─────────────────────┐           │
│  │  [완료된 재료 사진]   │           │
│  └─────────────────────┘           │
│                                     │
│  [새 작업 시작]  [작업 이력 보기]    │
│                                     │
└─────────────────────────────────────┘
```

---

## 5. UI/UX 설계 원칙

### 5.1 디자인 가이드라인
- **컬러 스킴**:
  - Primary: 두산 로봇 브랜드 컬러 (블루 계열)
  - Success: #4CAF50 (작업 완료)
  - Warning: #FF9800 (대기/일시정지)
  - Danger: #F44336 (에러/비상정지)
  
- **타이포그래피**:
  - 제목: 24-32px, Bold
  - 본문: 16-18px, Regular
  - 작은 텍스트: 14px (상태 표시 등)

### 5.2 인터랙션
- **버튼 클릭**: 시각적 피드백 (ripple effect)
- **로딩**: 스켈레톤 UI 또는 로딩 스피너
- **전환**: 부드러운 페이지 전환 애니메이션
- **에러**: 토스트 메시지 또는 모달

### 5.3 반응형 설계
- **데스크톱**: 1920x1080 기준 최적화
- **태블릿**: 작업장 벽면 부착용 (1024x768)
- **모바일**: 모니터링 전용 (375x667)

---

## 6. 기술 스택 제안

### 6.1 프론트엔드 프레임워크
```python
# 추천 스택
{
    "framework": "React 18+ (또는 Vue.js 3)",
    "language": "TypeScript",
    "state_management": "Zustand (또는 Redux Toolkit)",
    "styling": "Tailwind CSS + shadcn/ui",
    "charts": "Chart.js (진행률 시각화)",
    "3d_visualization": "Three.js (옵션: 로봇 3D 모델)",
    "websocket": "Socket.io-client (실시간 통신)"
}
```

### 6.2 프로젝트 구조
```
frontend/
├── src/
│   ├── components/
│   │   ├── MaterialSelector/
│   │   ├── ModeSelector/
│   │   ├── ProgressMonitor/
│   │   └── RobotStatus/
│   ├── pages/
│   │   ├── HomePage.tsx
│   │   ├── MaterialPage.tsx
│   │   ├── ModePage.tsx
│   │   ├── ConfirmPage.tsx
│   │   ├── MonitorPage.tsx
│   │   └── CompletePage.tsx
│   ├── store/
│   │   ├── materialStore.ts
│   │   └── robotStore.ts
│   ├── types/
│   │   └── index.ts
│   └── utils/
│       └── api.ts (향후 백엔드 연동)
```

---

## 7. 데이터 모델 (TypeScript Interface)

```typescript
// 재료 타입
interface Material {
  id: string;
  name: string;
  category: 'meat' | 'vegetable' | 'fruit';
  image: string;
  description: string;
}

// 손질 모드 타입
interface ProcessingMode {
  id: string;
  type: 'slice' | 'dice' | 'peel';
  name: string;
  thickness?: number; // mm
  description: string;
}

// 작업 상태 타입
interface JobStatus {
  id: string;
  material: Material;
  mode: ProcessingMode;
  status: 'pending' | 'running' | 'paused' | 'completed' | 'error';
  progress: number; // 0-100
  currentStep: string;
  startTime: Date;
  estimatedTime: number; // seconds
  elapsedTime: number; // seconds
}

// 로봇 상태 타입
interface RobotState {
  isConnected: boolean;
  status: 'idle' | 'working' | 'error';
  jointAngles: number[]; // 6개 관절
  force: number; // Newton
  speed: number; // mm/s
  errorMessage?: string;
}
```

---

## 8. 상태 관리 플로우

```
[사용자 입력]
    ↓
[Local State] → 재료 선택
    ↓
[Local State] → 모드 선택
    ↓
[Global Store] → 작업 생성
    ↓
[WebSocket] → 백엔드로 작업 전송 (향후)
    ↓
[WebSocket] ← 실시간 상태 수신
    ↓
[Global Store] → 진행률 업데이트
    ↓
[UI 렌더링] → 화면 업데이트
```

---

## 9. 향후 백엔드 연동 대비

### 9.1 API 엔드포인트 설계 (예상)
```python
# REST API
POST   /api/jobs              # 작업 생성
GET    /api/jobs/:id          # 작업 상태 조회
DELETE /api/jobs/:id          # 작업 취소
GET    /api/materials         # 재료 목록
GET    /api/modes             # 모드 목록

# WebSocket
WS     /ws/robot-status       # 실시간 로봇 상태
WS     /ws/job-progress       # 실시간 작업 진행률
```

### 9.2 ROS2 연동 구조 (참고)
```
[Frontend] 
    ↕ WebSocket
[FastAPI Backend]
    ↕ ROS2 Bridge
[ROS2 Node]
    ↕ DRL (Doosan Robot Library)
[Doosan Robot]
```

---

## 10. 개발 우선순위

### Phase 1: 기본 UI 구현 (1주)
- [ ] 메인 화면
- [ ] 재료 선택 화면
- [ ] 모드 선택 화면
- [ ] 작업 확인 화면

### Phase 2: 모니터링 구현 (1주)
- [ ] 진행률 표시
- [ ] 실시간 상태 업데이트 (mock 데이터)
- [ ] 애니메이션 효과

### Phase 3: 완성도 향상 (1주)
- [ ] 반응형 디자인
- [ ] 에러 핸들링
- [ ] 사용자 피드백 개선
- [ ] 접근성 개선

### Phase 4: 백엔드 연동 준비 (추후)
- [ ] API 통신 로직
- [ ] WebSocket 연결
- [ ] ROS2 메시지 처리

---

## 11. 부가 기능 (옵션)

### 11.1 작업 이력
- 최근 10개 작업 기록
- 통계 대시보드 (일일/주간/월간)

### 11.2 설정
- 언어 선택 (한국어/영어)
- 알림 설정
- 로봇 캘리브레이션 인터페이스

### 11.3 사용자 관리
- 작업자 로그인
- 권한 관리 (관리자/작업자)

---

## 12. 참고 사항

이 기획서를 바탕으로 먼저 프론트엔드를 구현하면, 나중에 ROS2와 두산 로봇을 연동할 때 백엔드만 추가하면 됩니다.

추천 개발 순서:
1. React + TypeScript + Tailwind CSS로 프로젝트 초기 설정
2. 각 화면 컴포넌트 구현 (정적 UI)
3. 상태 관리 (Zustand) 추가
4. 화면 간 네비게이션 구현
5. Mock 데이터로 동작 테스트
6. 애니메이션 및 인터랙션 추가
7. 반응형 디자인 적용
8. 백엔드 API 연동 준비

---

**작성일**: 2025년 12월 10일  
**작성자**: Archer (ROKEY Bootcamp)  
**버전**: 1.0
